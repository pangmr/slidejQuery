(function(b){var a=function(d,c){this.$ele=d;this.defaults={interval:4000,startAt:0,width:0,height:0,pagination:true,paginationClass:"active",preNext:true};this.options=b.extend({},this.defaults,c);this.index=0;this.sildes=b(d).find(".slides li");this.sildeBox=b(d).find(".slides");this.length=this.sildes.length;this.timer=null,this.width=this.options.width||this.sildes.eq(0).width();this.height=this.options.height||this.sildes.eq(0).height()};a.prototype={init:function(){var c=this,e=this.$ele.css({"height":this.height,"width":this.width}),d=this.options;c.sildes.css({"height":this.height,"width":this.width});if(d.pagination){c._createPagination()}if(d.preNext){c._createPreNext()}c.sildeBox.animate({left:-(c.index*c.width)});c.changePaginationClass(c.index);c.play()},_createPagination:function(){var d=this,g=this.$ele,f=this.options,c=this.sildeBox,h=b("<ul></ul>").addClass("pagination").appendTo(g);d.index=f.startAt||0;b(".pagination li").eq(d.index).addClass("active");for(var e=0;e<d.length;e++){(function(i){b("<li><span></span></li>").appendTo(h).on("click",function(){d.stop();d.index=i;c.animate({left:-(d.index*d.width)});d.changePaginationClass(i);d.play()})})(e)}},changePaginationClass:function(c){b(".pagination li").eq(c).addClass("active").siblings().removeClass("active")},_createPreNext:function(){var c=this,e=this.$ele,f=b("<div></div>").addClass("pre").appendTo(e).on("click",function(){c.pre()}),d=b("<div></div>").addClass("next").appendTo(e).on("click",function(){c.next()})},pre:function(){this.stop();this.slide(false);this.play()},next:function(){this.stop();this.slide(true);this.play()},stop:function(){clearInterval(this.timer)},play:function(){var c=this;c.timer=setInterval(function(){c.slide(true)},c.options.interval)},slide:function(e){var d=this,f=this.$ele,c=this.sildeBox;if(e){d.index++}else{d.index--}if(d.index<0||d.index>=d.length){d.index=0}c.animate({left:-(d.index*d.width)});b(".pagination li").eq(d.index).addClass("active").siblings().removeClass("active")}};b.fn.swiper=function(c){return new a(this,c).init()}})(window.jQuery);
